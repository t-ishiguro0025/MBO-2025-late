{"version":3,"file":"spotlight.js","sources":["../../../src/utils/spotlight.ts"],"sourcesContent":["import { envToBool } from '@sentry/core';\n\n/**\n * Parse the spotlight option with proper precedence:\n * - `false` or explicit string from options: use as-is\n * - `true`: enable spotlight, but prefer a custom URL from the env var if set\n * - `undefined`: defer entirely to the env var (bool or URL)\n */\nexport function getSpotlightConfig(optionsSpotlight: boolean | string | undefined): boolean | string | undefined {\n  if (optionsSpotlight === false) {\n    return false;\n  }\n\n  if (typeof optionsSpotlight === 'string') {\n    return optionsSpotlight;\n  }\n\n  // optionsSpotlight is true or undefined\n  const envBool = envToBool(process.env.SENTRY_SPOTLIGHT, { strict: true });\n  const envUrl = envBool === null && process.env.SENTRY_SPOTLIGHT ? process.env.SENTRY_SPOTLIGHT : undefined;\n\n  return optionsSpotlight === true\n    ? (envUrl ?? true) // true: use env URL if present, otherwise true\n    : (envBool ?? envUrl); // undefined: use env var (bool or URL)\n}\n"],"names":["envToBool"],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,kBAAkB,CAAC,gBAAgB,EAA8D;AACjH,EAAE,IAAI,gBAAA,KAAqB,KAAK,EAAE;AAClC,IAAI,OAAO,KAAK;AAChB,EAAE;;AAEF,EAAE,IAAI,OAAO,gBAAA,KAAqB,QAAQ,EAAE;AAC5C,IAAI,OAAO,gBAAgB;AAC3B,EAAE;;AAEF;AACA,EAAE,MAAM,OAAA,GAAUA,cAAS,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,EAAE,MAAM,EAAE,IAAA,EAAM,CAAC;AAC3E,EAAE,MAAM,MAAA,GAAS,YAAY,IAAA,IAAQ,OAAO,CAAC,GAAG,CAAC,gBAAA,GAAmB,OAAO,CAAC,GAAG,CAAC,gBAAA,GAAmB,SAAS;;AAE5G,EAAE,OAAO,qBAAqB;AAC9B,OAAO,MAAA,IAAU,IAAI;AACrB,OAAO,OAAA,IAAW,MAAM,CAAC,CAAA;AACzB;;;;"}