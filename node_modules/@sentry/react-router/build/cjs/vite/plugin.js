Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });

const makeConfigInjectorPlugin = require('./makeConfigInjectorPlugin.js');
const makeCustomSentryVitePlugins = require('./makeCustomSentryVitePlugins.js');
const makeEnableSourceMapsPlugin = require('./makeEnableSourceMapsPlugin.js');

/**
 * A Vite plugin for Sentry that handles source map uploads and bundle size optimizations.
 *
 * @param options - Configuration options for the Sentry Vite plugin
 * @param viteConfig - The Vite user config object
 * @returns An array of Vite plugins
 */
async function sentryReactRouter(
  options = {},
  viteConfig,
) {
  const plugins = [];

  plugins.push(makeConfigInjectorPlugin.makeConfigInjectorPlugin(options));

  if (process.env.NODE_ENV !== 'development' && viteConfig.command === 'build' && viteConfig.mode !== 'development') {
    plugins.push(makeEnableSourceMapsPlugin.makeEnableSourceMapsPlugin(options));
    plugins.push(...(await makeCustomSentryVitePlugins.makeCustomSentryVitePlugins(options)));
  }

  return plugins;
}

exports.sentryReactRouter = sentryReactRouter;
//# sourceMappingURL=plugin.js.map
